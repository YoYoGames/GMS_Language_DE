<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>dampf_ugc_download</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference page for steam_ugc_download" />
  <meta name="rh-index-keywords" content="steam_ugc_download" />
  <meta name="search-keywords" content="steam_ugc_download" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span class="notranslate">dampf_ugc_download</span></h1>
  <p>Mit dieser Funktion können Sie ein Vorschaubild für ein bestimmtes UGC-Element herunterladen. Der <tt>ugc_handle</tt> ist der eindeutige Identifikationswert für das Bild (den Sie mit der Funktion <a href="steam_ugc_send_query.htm"><tt><span class="notranslate">steam_ugc_send_query</span>()</tt></a>),
    und der Zieldateiname ist der Name (und der lokale Pfad innerhalb der <span class="notranslate">Steam-Sandbox</span> ), den Sie der Bilddatei geben möchten, wenn der Download abgeschlossen ist.</p>
  <p>Bei Verwendung dieser Funktion wird ein <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Steam.htm">asynchrones</a> Ereignis <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Steam.htm"><span class="notranslate">von Steam</span></a> ausgelöst, um die Details der angeforderten Bilddatei zu melden, die die folgenden Schlüssel/Wertpaare im
    <a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm"><tt>async_load</tt></a> ds_map:</p>
  <ul class="colour">
    <li>&quot;id&quot; - Die asynchrone ID, die von der aufrufenden Funktion zurückgegeben wird</li>
    <li>&quot;<b>Ergebnis&quot; -</b> Das Ergebnis der Operation (ein reeller Wert). Dies wird entweder die <span class="notranslate">GML-Konstante</span> <tt>ugc_result_success</tt> oder eine andere reelle Zahl sein. Sie sollten also auf diese Konstante prüfen, um sicherzustellen, dass der Aufruf erfolgreich war, und wenn
      andernfalls irgendetwas nicht korrekt funktioniert hat. Der Rest der möglichen Werte, die zurückgegeben werden, wird als Ergebnis des <span class="notranslate">Steam-</span> &quot;EResult&quot;-Wertes angezeigt, und Sie sollten in der Datei steamclientpublic <tt>.h in den SDK-Headern</tt> alle 89 möglichen Werte finden.</li>
    <li>&quot; event_type<b>&quot; -</b> Dieser Schlüssel enthält den Wert &quot; ugc_download&quot;.</li>
    <li>&quot;<b>original_filename&quot; -</b> Dieser Schlüssel enthält den ursprünglichen Namen der Bilddatei auf dem <i>Server (eine Zeichenkette</i> )</li>
    <li>&quot;dest_filename<b>&quot; -</b> Dieser Schlüssel enthält den Namen der Bilddatei, die Sie übergeben haben (eine Zeichenkette)</li>
    <li>&quot; ugc_handle<b>&quot; -</b> Dieser Schlüssel enthält den <tt>ugc_handle-Wert</tt>, den Sie an die aufrufende Funktion übergeben haben</li>
  </ul>
  <p> </p>
  <h4>Syntax:</h4>
  <p class="code"><span class="notranslate">steam_ugc_download</span>(ugc_handle, dest_filename);</p>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Beschreibung</th>
      </tr>
      <tr>
        <td>ugc_handle</td>
        <td>Das eindeutige Handle für die herunterzuladende Vorschau.</td>
      </tr>
      <tr>
        <td>dest_filename</td>
        <td>Der Dateiname, unter dem die Vorschau gespeichert werden soll.</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Rückgabe:</h4>
  <p class="code">Async-ID</p>
  <p> </p>
  <h4>Erweitertes Beispiel:</h4>
  <p>In diesem Beispiel rufen wir zunächst die Funktion auf und speichern den asynchronen ID-Wert in einer Variablen:</p>
  <p class="code"><span class="notranslate">steam_get</span>= <span class="notranslate">steam_ugc_download</span><span class="notranslate">(steam_handle</span>, &quot;\UGC\Preview_file.png&quot;);</p>
  <p>Dies würde dann eine Dateianfrage an die <span class="notranslate">Steam-API</span> senden und ein asynchrones Ereignis erzeugen, mit dem wir wie folgt umgehen würden:</p>
  <p class="code">var event_id = async_load[? &quot;id&quot;];<br> if event_id == steam_get<br> {
    <br> var type = async_load[? &quot;event_type&quot;];<br> if type == &quot;ugc_download&quot;<br> {
    <br> sprite_delete(preview_sprite); preview_sprite = sprite_add(async_load[? &quot;dest_filename&quot;], 0, false, false, 0, 0);<br> }
    <br> }
  </p>
  <p>Der obige Code prüft den Ereignistyp und erstellt dann ein Sprite aus dem heruntergeladenen Bild.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Zurück: <a href="Steam_UGC.htm">UGC</a></div>
        <div style="float:right">Weiter: <a href="steam_is_screenshot_requested.htm"><span class="notranslate">steam_is_screenshot_requested</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Alle Rechte vorbehalten</span></h5>
  </div>
  <!-- KEYWORDS
<span class="notranslate">steam</span>_ugc_download
-->
  <!-- TAGS
<span class="notranslate">steam</span>_ugc_download
-->
</body>
</html>